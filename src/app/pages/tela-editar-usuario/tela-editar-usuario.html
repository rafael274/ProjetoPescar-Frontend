<div class="edit-user-page">
    <header>
        <h1>Gerenciar Usuários</h1>
        <p>Edite as informações dos usuários cadastrados.</p>
    </header>

    <!-- Botão para voltar -->
    <button class="back-button" type="button" (click)="voltar()">Voltar</button>
    <!-- Botão para editar o próprio perfil -->
    <button class="back-button" type="button" style="right:140px; border-color:#e11d48; color:#e11d48;" *ngIf="currentUserId" (click)="editarMeuPerfil()">Editar meu perfil</button>

    <!-- Lista de usuários -->
    <div class="users-list" *ngIf="!editandoUsuario">
        <div class="user-card" *ngFor="let usuario of usuarios">
            <div class="user-info">
                <h3>{{ usuario.nome }}</h3>
                <p>{{ usuario.email }}</p>
            </div>
            <div class="user-actions" *ngIf="usuario.id === currentUserId">
                <button class="edit-button" (click)="editarUsuario(usuario)">Editar</button>
                <button class="delete-button" (click)="usuario.id && deletarUsuario(usuario.id)">Excluir</button>
            </div>
        </div>
    </div>

    <!-- Formulário de edição -->
    <section class="edit-form-container" *ngIf="editandoUsuario">
        <form (ngSubmit)="salvarEdicao()" #editForm="ngForm">
            <div class="form-group">
                <input [(ngModel)]="editandoUsuario.nome" name="nome" type="text" id="nome" placeholder="Nome" required>
            </div>
            <div class="form-group">
                <input [(ngModel)]="editandoUsuario.email" name="email" type="email" id="email" placeholder="E-mail" required>
            </div>
            <div class="form-group">
                <input [(ngModel)]="editandoUsuario.senha" name="senha" type="password" id="senha" placeholder="Nova senha">
            </div>

            <div class="form-buttons">
                <button type="submit" class="save-button" [disabled]="editForm.invalid">Salvar</button>
                <button type="button" class="cancel-button" (click)="cancelarEdicao()">Cancelar</button>
            </div>
        </form>
    </section>

    <!-- Mensagem de feedback -->
    <div class="message" *ngIf="message">{{ message }}</div>
</div>
